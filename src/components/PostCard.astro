---
const { url, title, description, pubDate, heroImage } = Astro.props as any;
const formattedDate = pubDate ? new Date(pubDate).toLocaleDateString('es-CL', { year: 'numeric', month: 'long', day: 'numeric' }) : undefined;
---

<a href={url} class="group block bg-gray-800/60 border border-gray-700 rounded-2xl overflow-hidden hover:border-blue-400/60 transition-colors h-full">
  {heroImage && (
    <img src={heroImage} alt={title} class="w-full h-44 object-cover" loading="lazy" decoding="async" />
  )}
  <div class="p-5">
    {formattedDate && <p class="text-xs uppercase tracking-wide text-gray-400 mb-2">{formattedDate}</p>}
    <h3 class="text-lg font-bold mb-2 group-hover:text-blue-300 transition-colors">{title}</h3>
    {description && <p class="text-sm text-gray-300 line-clamp-3">{description}</p>}
  </div>
</a>

<style>
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
